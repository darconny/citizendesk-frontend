angular.module("citizendeskFrontendApp").run(["$templateCache",function(a){"use strict";a.put("views/assign.html",'<h3>\n  <span class="glyphicon glyphicon-user"></span>\n  <span translate>Assign to:</span>\n</h3>\n<p>\n  <button type="button" class="btn btn-info btn-lg btn-block"\n          ng-click="assignTo(identity._id)"\n          ng-disabled="disabled"\n          >\n    <span translate>\n      Me\n    </span>\n    <span ng-show="totals[identity._id]">({{totals[identity._id]}})</span>\n  </button>\n</p>\n<p ng-repeat="user in users" ng-hide="user._id === identity._id">\n  <button type="button" class="btn btn-default btn-lg btn-block"\n          ng-click="assignTo(user._id)"\n          ng-disabled="disabled"\n          >\n    <span\n          ng-bind="user.username"\n       ></span>\n    <span ng-show="totals[user._id]">({{totals[user._id]}})</span>\n  </button>\n</p>\n<p>\n  <button type="button" class="btn btn-warning btn-lg btn-block"\n          ng-click="back()"\n          ng-disabled="disabled"\n          >\n    <span class="glyphicon glyphicon-arrow-left"></span>\n    <span translate>Go back</span>\n  </button>\n</p>\n'),a.put("views/assigned-to-me.html",'<h3 translate>\n  Items assigned to you <small>for verification or publishing</small>\n</h3>\n<p>\n  <div class="input-group">\n    <div class="input-group-addon">\n      <span class="glyphicon glyphicon-search"></span>\n    </div>\n    <input class="form-control" type="search" ng-model="q" />\n  </div>\n</p>\n<div\n   ng-repeat="report in reports | filter:q"\n   ng-switch on="report.feed_type"\n   >\n  <div ng-switch-when="tweet" tweet-summary></div>\n  <div ng-switch-default      report-summary></div>\n</div>\n<div ng-show="loading">\n  <p>\n    <h5 class="text-center" translate>Loading...</h5>\n    <div class="text-center">\n      <span class="fa fa-refresh fa-spin"></span>\n    </div>\n  </p>\n</div>\n<p ng-hide="loading || reports.length" translate>\n  There are no reports assigned to you yet. You can go to\n  the <a href="#/queues/">incoming reports page</a> to pick something\n  interesting\n</p>\n'),a.put("views/assigned.html",'<h3 translate>\n  Number of reports assigned for every user\n</h3>\n<ul class="list-group">\n  <li class="list-group-item" ng-repeat="user in users">\n    <span class="badge" ng-bind="totals[user._id]"></span>\n    <span ng-bind="user.username"></span>\n  </li>\n</ul>\n'),a.put("views/citizen-card.html",'<h3 translate>\n  Info about user {{alias.identifiers.user_name_search}}\n</h3>\n<div ng-switch="alias.authority">\n  <div ng-switch-when="twitter">\n    <div class="media">\n      <a class="pull-left"\n         ng-href="//twitter.com/{{alias.identifiers.user_name_search}}"\n         target="_blank"\n         >\n        <img class="media-object" ng-src="{{alias.avatars[0].https}}">\n      </a>\n      <div class="media-body">\n        <h4 class="media-heading"\n            >\n          Twitter user\n        </h4>\n      </div>\n    </div>\n  </div>\n  <div ng-switch-default>\n    <h4 translate>\n      Mobile user\n    </h4>\n  </div>\n</div>\n<p ng-if="alias">\n  <h5 ng-if="alias.tags.length===0">\n    <span translate>This user is not associated with any list</span>\n  </h5>\n  <h5 ng-if="alias.tags.length===1">\n    <span translate>This user is associated with the list:</span>\n    <label class="label" ng-class="alias.tags[0].variation"\n           ng-bind="alias.tags[0].name">\n    </label>\n  </h5>\n  <button class="btn btn-default" ng-click="editTags()">\n    <span translate>\n      Set the list associated with this user\n    </span>\n  </button>\n</p>\n<p>\n  <h5 translate> Reports authored by this user </h5>\n  <div\n     ng-repeat="report in reports"\n     report-summary\n     >\n  </div>\n  <div ng-hide="reports.length" translate>\n    No reports here at the moment\n  </div>\n</p>\n'),a.put("views/configure-autoreply.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li class="active" translate>Autoreply</li>\n</ol>\n<form class="form-horizontal">\n  <fieldset ng-disabled="disabled">\n    <div class="form-group">\n      <label class="col-md-2">Autoreply enabled</label>\n      <div class="col-md-10">\n        <input type="checkbox" class="col-md-10 form-control"\n               ng-model="config.set.sms_reply_send">\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Text to send automatically</label>\n      <div class="col-md-10">\n        <textarea type="text" class="col-md-10 form-control"\n                  ng-model="config.set.sms_reply_message"></textarea>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Session timeout in hours</label>\n      <div class="col-md-10">\n        <input type="number" class="col-md-10 form-control"\n               ng-model="config.set.sms_session_duration">\n      </div>\n    </div>\n    <div class="col-md-10 col-md-offset-2">\n      <button class="btn btn-primary" ng-click="save()">\n        <span translate>Save</span>\n      </button>\n    </div>\n  </fieldset>\n</form>\n'),a.put("views/configure-coverages.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li class="active" translate>Coverages</li>\n</ol>\n<p>\n  <span translate>\n    Changing these settings will not change reports already published\n    to existing coverages\n  </span>\n</p>\n<div ng-repeat="coverage in coverages">\n  <div class="form-group">\n    <label class="col-md-2" translate>Title</label>\n    <div class="col-md-10">\n      <input type="text"\n             class="col-md-10 form-control" ng-model="coverage.title">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-md-10 col-md-offset-2">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="coverage.active">\n          <span translate>Active</span>\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-md-10 col-md-offset-2">\n      <button class="btn btn-primary" ng-click="save(coverage)"\n              ng-disabled="disabled">\n        <span translate>Save</span>\n      </button>\n      <button class="btn btn-danger" ng-click="remove(coverage)"\n              ng-disabled="disabled">\n        <span translate>Delete</span>\n      </button>\n    </div>\n  </div>\n  <!-- had troubles applying ng-repeat directly to `p`, so i add an\n  empty `p` in order to have the bottom padding -->\n  <p>\n    &nbsp;\n  </p>\n</div>\n<p class="col-md-10 col-md-offset-2">\n  <button class="btn btn-warning" ng-click="add()">\n    <span translate>Add</span>\n  </button>\n</p>\n<div class="clearfix"></div>\n'),a.put("views/configure-lists-specific.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li><a href="#/configure-lists" translate>Citizen lists</a></li>\n  <li ng-hide="newList" class="active" ng-bind="list.name"></li>\n  <li ng-show="newList" class="active">\n    <span translate>New list</span>\n  </li>\n</ol>\n<form ng-submit="save()" name="form">\n  <div class="form-group">\n    <label for="name" translate>List name</label>\n    <input class="form-control" id="name"\n           ng-model="list.name"\n           placeholder="{{\'List name\'|translate}}"\n           required>\n  </div>\n  <div class="form-group">\n    <label for="variation" translate>Style for the list label</label>\n    <select class="form-control" id="variation"\n            ng-model="list.variation"\n            ng-options="variation.class as variation.name for variation in variations">\n    </select>\n  </div>\n  <div class="form-group">\n    <label translate>Preview</label>\n    <p class="form-control-static">\n      <label class="label" ng-class="list.variation" ng-bind="list.name">\n      </label>\n    </p>\n  </div>\n  <button type="button" class="btn btn-default"\n          ng-click="back()"\n          translate>Cancel</button>\n  <button type="submit" class="btn btn-primary" ng-disabled="disabled"\n          translate>\n    Save\n  </button>\n</form>\n<p></p>\n<div ng-show="deletable">\n  <button type="button" class="btn btn-default"\n          ng-click="delete()"\n          ng-disabled="disabled"\n          translate>Delete</button>\n  <p></p>\n  <p translate>\n    This list does not contain any citizen\n  </p>\n</div>\n<div ng-show="aliases.length">\n  <p translate>\n    This list cannot be deleted, because some citizens belong to\n    it. Please remove the citizens from the list in order to delete it\n  </p>\n  <p translate>\n    Citizens belonging to this list:\n  </p>\n  <div ng-repeat="alias in aliases">\n    <a ng-bind="alias.identifiers.user_name"\n       ng-href="#/citizen-card/{{alias.authority}}/{{alias.identifiers.user_name}}"\n       ></a>\n  </div>\n</div>\n'),a.put("views/configure-lists.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li class="active" translate>Citizen lists</a></li>\n</ol>\n<p ng-repeat="list in lists" class="clearfix">\n  <label class="label" ng-class="list.variation" ng-bind="list.name">\n  </label>\n  <button ng-click="edit(list)" class="btn btn-default pull-right">\n    <span translate>Edit</span>\n  </button>\n</p>\n<p>\n  <button ng-click="create()" class="btn btn-default pull-right">\n    <span translate>Create a new list</span>\n  </button>\n</p>\n<p class="clearfix"></p>\n'),a.put("views/configure-status-presentation.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li class="active" translate>Status presentation</li>\n</ol>\n<p>\n  <span translate>\n    Modify these texts in order to change the way verification status\n    is presented to the readers\n  </span>\n</p>\n<div ng-repeat="status in statuses">\n  <div class="form-group">\n    <label class="col-md-2" ng-bind="status.key"></label>\n    <div class="col-md-8">\n      <input type="text"\n             class="form-control" ng-model="status.description">\n    </div>\n    <div class="col-md-2">\n      <button class="btn btn-primary" ng-click="save(status)"\n              ng-disabled="disabled">\n        <span translate>Save</span>\n      </button>\n    </div>\n  </div>\n  <!-- had troubles applying ng-repeat directly to `p`, so i add an\n  empty `p` in order to have the bottom padding -->\n  <p>&nbsp;</p>\n</div>\n'),a.put("views/configure-steps.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li class="active" translate>Validation steps</li>\n</ol>\n<p>\n  <span translate>\n    Changing these settings will not affect reports that already started\n    the verification process\n  </span>\n</p>\n<div ng-repeat="step in steps">\n  <div class="form-group">\n    <label class="col-md-2" translate>Description</label>\n    <div class="col-md-10">\n      <input type="text"\n             class="col-md-10 form-control" ng-model="step.description">\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-md-10 col-md-offset-2">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="step.mandatory">\n          <span translate>Required</span>\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-md-10 col-md-offset-2">\n      <button class="btn btn-primary" ng-click="save(step)"\n              ng-disabled="disabled">\n        <span translate>Save</span>\n      </button>\n      <button class="btn btn-danger" ng-click="remove(step)"\n              ng-disabled="disabled">\n        <span translate>Delete</span>\n      </button>\n    </div>\n  </div>\n  <!-- had troubles applying ng-repeat directly to `p`, so i add an\n  empty `p` in order to have the bottom padding -->\n  <p>\n    &nbsp;\n  </p>\n</div>\n<p class="col-md-10 col-md-offset-2">\n  <button class="btn btn-warning" ng-click="add()">\n    <span translate>Add</span>\n  </button>\n</p>\n<div class="clearfix"></div>\n'),a.put("views/configure-twitter-ingestion-filters.html",'<ol class="breadcrumb">\n  <li><a href="#/configure">Configure</a></li>\n  <li><a href="#/configure-twitter-ingestion">Twitter ingestion</a></li>\n  <li class="active">Filters</li>\n</ol>\n<div class="alert alert-{{status}}" ng-hide="alert==\'\'" ng-bind="alert">\n</div>\n<form class="form-horizontal">\n  <form class="form-horizontal">\n    <fieldset ng-repeat="element in twtFilters" ng-disabled="disabled">\n      <div class="form-group">\n        <label class="col-md-2">Identifier</label>\n        <p class="col-md-10 form-control-static" ng-bind="element.id"></p>\n      </div>\n      <div class="form-group">\n        <label class="col-md-2">Updated</label>\n        <p class="col-md-10 form-control-static" ng-bind="element.logs.updated|date"></p>\n      </div>\n      <div class="form-group">\n        <label class="col-md-2">Created</label>\n        <p class="col-md-10 form-control-static" ng-bind="element.logs.created|date"></p>\n      </div>\n      <div class="form-group">\n        <label class="col-md-2">track</label>\n        <div class="col-md-10">\n          <input\n             type="text"\n             class="col-md-10 form-control"\n             ng-list\n             ng-model="element.spec.track">\n        </div>\n      </div>\n      <div class="form-group">\n        <label class="col-md-2">follow</label>\n        <div class="col-md-10">\n          <input\n             type="text"\n             class="col-md-10 form-control"\n             ng-list\n             ng-model="element.spec.follow">\n        </div>\n      </div>\n      <div ng-repeat="e in element.spec.follow" class="form-group">\n        <label class="col-md-2">follow {{$index + 1}}</label>\n        <div class="col-md-10">\n          <input type="text" class="col-md-10 form-control" ng-model="e">\n        </div>\n      </div>\n      <div ng-repeat="e in element.spec.locations" class="form-group">\n        <div class="form-group">\n          <label class="col-md-2">location {{$index + 1}} west</label>\n          <div class="col-md-10">\n            <input type="text" class="col-md-10 form-control" ng-model="e.west">\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="col-md-2">location {{$index + 1}} east</label>\n          <div class="col-md-10">\n            <input type="text" class="col-md-10 form-control" ng-model="e.east">\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="col-md-2">location {{$index + 1}} north</label>\n          <div class="col-md-10">\n            <input type="text" class="col-md-10 form-control" ng-model="e.south">\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="col-md-2">location {{$index + 1}} west</label>\n          <div class="col-md-10">\n            <input type="text" class="col-md-10 form-control" ng-model="e.west">\n          </div>\n        </div>\n      </div>\n      <div class="form-group">\n        <label class="col-md-2">Language</label>\n        <div class="col-md-10">\n          <input type="text" class="col-md-10 form-control" placeholder="Language" ng-model="element.language">\n        </div>\n      </div>\n      <div class="col-md-10 col-md-offset-2">\n        <button class="btn btn-primary" ng-click="saveFilter(element)">\n          Save\n        </button>\n      </div>\n    </fieldset>\n  </form>\n  <button class="btn btn-primary" ng-click="addFilter()">\n    Add filter\n  </button>\n'),a.put("views/configure-twitter-ingestion-oauths.html",'<ol class="breadcrumb">\n  <li><a href="#/configure" translate>Configure</a></li>\n  <li class="active" translate>Twitter monitor key</li>\n</ol>\n<form ng-show="key" class="form-horizontal">\n  <fieldset ng-disabled="disabled">\n    <div class="form-group">\n      <label class="col-md-2">\n        API key\n      </label>\n      <div class="col-md-10">\n        <input type="text" class="col-md-10 form-control"\n               placeholder="aBcDeFgHiLmNoPqRsTuVz"\n               ng-model="key.spec.consumer_key"\n               required>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">\n        API secret\n      </label>\n      <div class="col-md-10">\n        <input type="text" class="col-md-10 form-control"\n               placeholder="aBcDeFgHiLmNoPqRsTuVz"\n               ng-model="key.spec.consumer_secret"\n               required>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">\n        Access token\n      </label>\n      <div class="col-md-10">\n        <input\n           type="text"\n           class="col-md-10 form-control"\n           placeholder="aBcDeFgHiLmNoPqRsTuVz"\n           ng-model="key.spec.access_token_key">\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">\n        Access token secret\n      </label>\n      <div class="col-md-10">\n        <input type="text" class="form-control"\n               placeholder="aBcDeFgHiLmNoPqRsTuVz"\n               ng-model="key.spec.access_token_secret"\n               required>\n      </div>\n    </div>\n    <div class="col-md-10 col-md-offset-2" ng-if="editing">\n      <button class="btn btn-primary" ng-click="save()">\n        <span translate>\n          Save\n        </span>\n      </button>\n      <button class="btn btn-primary" ng-click="cancelEditing()">\n        <span translate>\n          Cancel editing\n        </span>\n      </button>\n    </div>\n    <div class="col-md-10 col-md-offset-2" ng-if="!editing">\n      <button class="btn btn-primary" ng-click="edit()">\n        <span translate>\n          Edit\n        </span>\n      </button>\n    </div>\n  </fieldset>\n</form>\n<div ng-show="noKey">\n  <p translate>\n    There are no Twitter monitor keys set up for you. You need to add\n    one in order to be able to define Twitter monitors\n  </p>\n  <p class="text-center">\n    <button class="btn btn-primary" ng-click="add()">\n      <span translate>Add a key</span>\n    </button>\n  </p>\n  <p>\n    <a target="_blank"\n       href="http://iag.me/socialmedia/how-to-create-a-twitter-app-in-8-easy-steps/"\n       translate>\n      How do I get a key? (tutorial in English)\n    </a>\n  </p>\n</div>\n'),a.put("views/configure-twitter-ingestion-streams.html",'<ol class="breadcrumb">\n  <li><a href="#/configure">Configure</a></li>\n  <li><a href="#/configure-twitter-ingestion">Twitter ingestion</a></li>\n  <li class="active">Streams</li>\n</ol>\n<form class="form-horizontal">\n  <fieldset ng-repeat="element in twtStreams">\n    <div class="form-group">\n      <label class="col-md-2">Active</label>\n      <div class="col-md-10">\n        <input\n           type="checkbox"\n           class="col-md-10 form-control"\n           ng-model="element.control.switch_on"\n           disabled\n           >\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Identifier</label>\n      <p class="col-md-10 form-control-static" ng-bind="element.id"></p>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Updated</label>\n      <p class="col-md-10 form-control-static" ng-bind="element.logs.updated|date"></p>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Created</label>\n      <p class="col-md-10 form-control-static" ng-bind="element.logs.created|date"></p>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Started</label>\n      <p class="col-md-10 form-control-static" ng-bind="element.logs.started|date"></p>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Stopped</label>\n      <p class="col-md-10 form-control-static" ng-bind="element.logs.stopped|date"></p>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">OAuth</label>\n      <div class="col-md-10">\n        <input disabled type="text" class="col-md-10 form-control" placeholder="Consumer secret" ng-model="element.spec.oauth_id">\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-md-2">Filter</label>\n      <div class="col-md-10">\n        <select\n           class="col-md-10 form-control"\n           ng-model="element.spec.filter_id"\n           ng-options="filter._id as filter._id for filter in twtFilters"\n           ng-disabled="disabled[element._id]"\n           ng-class="{\'has-error\': error[element._id]}"\n           ng-change="saveStream(element)"\n           >\n        </select>\n      </div>\n    </div>\n    <div>\n      <button class="btn"\n              ng-class="{\'btn-success\': !restartError[element._id], \'btn-error\': restartError[element._id]}"\n              ng-disabled="restartDisabled[element._id]"\n              ng-click="restart(element)"\n              >\n        Restart\n      </button>\n    </div>\n  </fieldset>\n</form>\n'),a.put("views/configure-twitter-ingestion.html",'<ol class="breadcrumb">\n  <li><a href="#/configure">Configure</a></li>\n  <li class="active">Twitter ingestion</li>\n</ol>\n<div class="list-group">\n  <a href="#/configure-twitter-ingestion-filters" class="list-group-item">\n    Filters\n  </a>\n  <a href="#/configure-twitter-ingestion-oauths" class="list-group-item">\n    OAuth\n  </a>\n  <a href="#/configure-twitter-ingestion-streams" class="list-group-item">\n    Streams\n  </a>\n</div>\n'),a.put("views/configure.html",'<ol class="breadcrumb">\n  <li class="active" translate>Configure</li>\n</ol>\n<div class="list-group">\n  <!--a href="#/configure-twitter-ingestion" class="list-group-item" translate>\n    Twitter ingestion\n  </a-->\n  <a href="#/configure-lists" class="list-group-item" translate>\n    Citizen lists\n  </a>\n  <a href="#/configure-autoreply" class="list-group-item" translate>\n    Autoreply\n  </a>\n  <a href="#/configure-steps" class="list-group-item" translate>\n    Validation steps\n  </a>\n  <a href="#/configure-coverages" class="list-group-item" translate>\n    Coverages\n  </a>\n  <a href="#/configure-twitter-ingestion-oauths"\n     class="list-group-item" translate>\n    Twitter monitor key\n  </a>\n  <a href="#/configure-status-presentation"\n     class="list-group-item" translate>\n    Status presentation\n  </a>\n</div>\n'),a.put("views/directives/common-report-detail-part.html",'<div class="alert alert-{{status}}"\n     ng-hide="alert==\'\'"\n     ng-bind="alert"></div>\n<div class="container">\n  <form id="tasks" class="form-horizontal" ng-repeat="step in report.steps">\n    <div class="form-group">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox"\n                 ng-model="step.done"\n                 ng-change="changeStep(step.done)"\n                 >\n          {{step.description}}\n        </label>\n      </div>\n    </div>\n  </form>\n</div>\n<div class="row" ng-show="isPublished && onBehalf">\n  <div class="col-md-12">\n    <h5>\n      <span translate>Published by {{onBehalf.username}}</span>\n    </h5>\n  </div>\n</div>\n<div ng-switch="largeScreen">\n  <div ng-switch-when="true">\n    <p class="btn-group btn-group-justified">\n      <label class="btn btn-default" ng-model="report.status"\n             ng-class="{\'btn-success\': report.status==\'verified\'}"\n             ng-disabled="disabled || verificationDisabled"\n             btn-radio="\'verified\'">\n        <span translate>\n          Verified!\n        </span>\n      </label>\n      <label class="btn btn-default" ng-model="report.status"\n             ng-disabled="disabled"\n             btn-radio="\'\'">\n        <span translate>\n          Unknown\n        </span>\n      </label>\n      <label class="btn btn-default" ng-model="report.status"\n             ng-class="{\'btn-danger\': report.status==\'debunked\'}"\n             ng-disabled="disabled"\n             btn-radio="\'debunked\'">\n        <span translate>\n          This is false\n        </span>\n      </label>\n    </p>\n  </div>\n  <div ng-switch-default>\n    <p class="btn-group btn-group-justified">\n      <label class="btn btn-default" ng-model="report.status"\n             ng-class="{\'btn-danger\': report.status==\'debunked\'}"\n             ng-disabled="disabled"\n             btn-radio="\'debunked\'">\n        <span translate>\n          This is false\n        </span>\n      </label>\n    </p>\n    <p class="btn-group btn-group-justified">\n      <label class="btn btn-default" ng-model="report.status"\n             ng-disabled="disabled"\n             btn-radio="\'\'">\n        <span translate>\n          Unknown\n        </span>\n      </label>\n    </p>\n    <p class="btn-group btn-group-justified">\n      <label class="btn btn-default" ng-model="report.status"\n             ng-class="{\'btn-success\': report.status==\'verified\'}"\n             ng-disabled="disabled || verificationDisabled"\n             btn-radio="\'verified\'">\n        <span translate>\n          Verified!\n        </span>\n      </label>\n    </p>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-4 col-xs-4">\n    <button class="btn btn-warning" ng-if="!isPublished"\n            ng-disabled="disablePublish || (!selectedCoverage)"\n            ng-click="publish()">\n      <span translate>Publish</span>\n    </button>\n    <button class="btn btn-warning" ng-if="isPublished"\n            ng-disabled="disablePublish || (!selectedCoverage)"\n            ng-click="unpublish()">\n      <span translate>Unpublish</span>\n    </button>\n  </div>\n  <div class="col-md-8 col-xs-8">\n    <select class="form-control" ng-model="selectedCoverage"\n            ng-options="coverage.title for coverage in coverages"\n            ng-disabled="isPublished"\n            >\n    </select>\n  </div>\n</div>\n<p>&nbsp;</p>\n'),a.put("views/directives/queue-selection.html",'<div class="dropdown" ng-controller="QueueSelectionCtrl">\n  <a data-toggle="dropdown">\n    <h3 ng-bind="service.description"></h3>\n  </a>\n  <ul class="dropdown-menu">\n    <li>\n      <a ng-href="#/mobile-queue">\n        <span>Mobile reports</span>\n      </a>\n    </li>\n    <li class="divider"></li>\n    <li>\n      <a ng-href="#/new-twitter-search">\n        <span>New Twitter search</span>\n      </a>\n    </li>\n    <li class="divider"></li>\n    <li ng-repeat="queue in searches">\n      <a ng-href="#/twitter-search/{{queue._id}}">\n        <span ng-bind="queue.description"></span>\n        <span class="badge" ng-bind="queue.reports.length"></span>\n      </a>\n    </li>\n    <li ng-repeat="queue in monitors">\n      <a ng-href="#/monitor/{{queue.slug}}">\n        <span ng-bind="queue.description"></span>\n        <span class="badge" ng-bind="queue.reports.length"></span>\n      </a>\n    </li>\n  </ul>\n</div>\n'),a.put("views/directives/report-summary-buttons.html",'<span class="pull-right" ng-switch="report.verified">\n  <a href="#/report-{{report.feed_type}}/{{report._id}}"\n     class="btn btn-info"\n     ng-switch-when="true"\n     >\n    <span translate>\n      Details\n    </span>\n  </a>\n  <span ng-switch-default>\n    <span ng-switch="report.assignments.length">\n      <a class="btn btn-warning"\n         ng-show="dismiss"\n         ng-click="dismiss(report)"\n         ng-disabled="disabled[report._id]"\n         >\n        <span translate>\n          Dismiss\n        </span>\n      </a>\n      <span ng-switch-when="0">\n        <a class="btn btn-default"\n           ng-show="assign"\n           ng-click="assign(report)"\n           >\n          <span translate>\n            Assign\n          </span>\n        </a>\n      </span>\n      <span ng-switch-default>\n        <a class="btn btn-info"\n           ng-show="assign"\n           ng-href="#/assigned/"\n           >\n          <span translate>\n            Assigned to {{report.assignments[0].user_id.username}}\n          </span>\n        </a>\n        <a class="btn btn-warning"\n           ng-show="assign"\n           ng-click="assign(report)"\n           >\n          <span translate>\n            Reassing\n          </span>\n        </a>\n      </span>\n    </span>\n    <a href="#/report-{{report.feed_type}}/{{report._id}}"\n       class="btn btn-primary"\n       >\n      <span translate>\n        Check\n      </span>\n    </a>\n  </span>\n</span>\n'),a.put("views/directives/report-summary.html",'<div\n   data-id="{{report._id}}"\n   class="panel panel-default"\n   >\n  <div class="panel-heading clearfix">\n    <h5>\n      <a ng-bind="report.authors[0].identifiers.user_name"\n       ng-href="#/citizen-card/{{report.authors[0].authority}}/{{report.authors[0].identifiers.user_name}}"\n       ></a>\n      <small ng-bind="report.produced | date:\'medium\'"></small>\n    </h5>\n  </div>\n  <div class="panel-body break-long-words"\n       ng-bind="report.texts[0].original"></div>\n  <div class="panel-footer clearfix">\n    <!-- i use ng repeat below, but i am currently developing in a way\n         to have just one tag for every user -->\n    <p>\n      <span ng-repeat="tag in report.authors[0].alias.tags"\n          class="label" ng-bind="tag.name" ng-class="tag.variation">\n      </span>\n    </p>\n    <span report-summary-buttons></span>\n  </div>\n</div>\n'),a.put("views/directives/tweet-summary.html",'<div\n   data-id="{{report._id}}"\n   class="panel panel-default"\n   >\n  <div class="panel-body break-long-words">\n    <p>\n      <div class="row">\n        <!-- avatar -->\n        <div class="col-md-2 col-xs-3">\n          <a target="_blank"\n             ng-href="//twitter.com/{{report.original.user.screen_name}}">\n            <img class="media-object"\n                 ng-src="{{report.original.user.profile_image_url_https}}">\n          </a>\n        </div>\n        <div class="col-md-10 col-xs-7">\n          <div>\n            <span ng-bind="report.created | date:\'short\'"\n                  class="text-muted pull-right">\n            </span>\n            <!-- full name -->\n            <a target="_blank"\n               ng-href="//twitter.com/{{report.original.user.screen_name}}">\n              <strong ng-bind="report.original.user.name"></strong>\n            </a>\n            <!-- Twitter user name -->\n            <a target="_blank"\n               ng-href="//twitter.com/{{report.original.user.screen_name}}">\n              <span ng-bind="\'@\'+report.original.user.screen_name"\n                    class="text-muted">\n              </span>\n            </a>\n          </div>\n          <!-- middle part of the tweet -->\n          <p id="text"\n             ng-bind-html="report.linkedText"\n             ng-class="lead"\n             >\n          </p>\n          <!-- lower part of the tweet -- actions -->\n          <div>\n            <a ng-href="https://twitter.com/intent/favorite?tweet_id={{report.original.id_str}}"\n               target="_blank">\n              <img\n                 src="//si0.twimg.com/images/dev/cms/intents/icons/favorite.png">\n            </a>\n            <a ng-href="https://twitter.com/intent/tweet?in_reply_to={{report.original.id_str}}"\n               target="_blank">\n              <img\n                 src="//si0.twimg.com/images/dev/cms/intents/icons/reply.png">\n            </a>\n            <a ng-href="https://twitter.com/intent/retweet?tweet_id={{report.original.id_str}}"\n               target="_blank">\n              <img\n                 src="//si0.twimg.com/images/dev/cms/intents/icons/retweet.png">\n            </a>\n          </div>\n        </div>\n      </div>\n    </p>\n  </div>\n  <div class="panel-footer clearfix">\n    <p>\n      <span ng-show="report.original.entities.media.length"\n            class="glyphicon glyphicon-picture"></span>\n      <span ng-show="report.original.entities.urls.length"\n            class="glyphicon glyphicon-link"></span>\n      <!-- i use ng repeat below, but i am currently developing in a way\n           to have just one tag for every user -->\n      <span ng-repeat="tag in report.authors[0].alias.tags"\n            class="label" ng-bind="tag.name" ng-class="tag.variation">\n      </span>\n    </p>\n    <span report-summary-buttons></span> \n  </div>\n</div>\n'),a.put("views/edit-user-lists.html",'<form ng-submit="save()">\n  <h3 translate>\n    Citizen {{alias.identifiers.user_name}} belongs to list:\n  </h3>\n  <div class="row">\n    <div class="col-xs-8 col-md-8">\n      <select ng-model="currentList"\n              ng-options="list._id as list.name for list in lists"\n              class="form-control"\n              >\n        <option value=""><span translate>no list</span></option>\n      </select>\n    </div>\n    <div class="col-xs-4 col-md-4">\n      <button type="submit" class="btn btn-primary" ng-disabled="disabled">\n        <span translate>Save</span>\n      </button>\n    </div>\n  </div>\n</form>\n'),a.put("views/error-no-monitors.html",'<div class="alert alert-danger" translate>\n  There are no monitors defined\n</div>\n'),a.put("views/error-no-searches.html",'<div class="alert alert-danger" translate>\n  There are no Twitter searches defined. You\n  can <a href="#/new-twitter-search">define one</a>\n</div>\n'),a.put("views/help-tweet-queues.html",'<h3 translate>\n  How are incoming reports from Twitter organised?\n</h3>\n<p translate>\n  Reports come from Twitter in two flavors: <i>Monitors</i> and <i>Twitter Searches</i>.\n</p>\n<h4 translate>\n  Monitors\n</h4>\n<p translate>\n  <i>Monitors</i> follow your search terms in Twitter in real time. They will periodically show you the most recent tweets about the topic you set. You have to set your monitor to include keywords (like "Obama"), Twitter user names (like @joesmith), or hashtags (like #eurovision). You can monitor multiple items - just separate each monitored phrase with a comma. Since this may result in a huge amount of reports from Twitter, we only support search terms with a reduced number of matches. A typical use for a monitor is to watch your own Twitter username and the usernames of others.\n</p>\n<p translate>\n  To set up your monitor, you have to provide a Twitter API key. Thus every user can have a maximum of one monitor account, but with a large number of monitored terms. If you haven\'t done so already, Click on your monitor in order to start the set\n  up.\n</p>\n<h4 translate>\n  Twitter searches\n</h4>\n<p translate>\n  A Twitter search is different. It searches the past, while the monitor is looking forward. Twitter searches do not have the limitations that monitors do, but they are\n  not constantly updated. They are only updated just when you create or refresh them.\n</p>\n'),a.put("views/main.html",""),a.put("views/mobile-queue.html",'<div queue-selection></div>\n<p>\n  <div class="input-group">\n    <div class="input-group-addon">\n      <span class="glyphicon glyphicon-search"></span>\n    </div>\n    <input class="form-control" type="search" ng-model="q" />\n  </div>\n</p>\n<div\n   ng-repeat="report in reports | filter:q"\n   report-summary\n   >\n</div>\n<div ng-show="loading">\n  <p>\n    <h5 class="text-center" translate>Loading...</h5>\n    <div class="text-center">\n      <span class="fa fa-refresh fa-spin"></span>\n    </div>\n  </p>\n</div>\n<p ng-hide="loading || reports.length" translate>\n  No reports match your search criteria\n</p>\n'),a.put("views/modals/login.html",'<div ng-controller="LoginModalCtrl">\n  <div class="modal-header">\n    <!--button type="button" class="close" ng-click="$hide()"\n        >&times;</button-->\n    <h4 class="modal-title" translate>\n      Login\n    </h4>\n  </div>\n  <div class="modal-body">\n    <div ng-messages="errors">\n      <div class="alert alert-danger" ng-message="service">\n        <span translate>\n          An error occurred while logging in\n        </span>\n      </div>\n    </div>\n    <form role="form">\n      <div class="form-group">\n        <label for="username" translate>User name</label>\n        <input type="text" class="form-control" id="username"\n               placeholder="Enter name"\n               ng-model="username">\n      </div>\n      <div class="form-group">\n        <label for="password" translate>Password</label>\n        <input type="password" class="form-control" id="password"\n               placeholder="Password"\n               ng-model="password">\n      </div>\n      <!--button type="submit" class="btn btn-default">Submit</button-->\n    </form>\n  </div>\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="submit()"\n            translate>\n      Submit\n    </button>\n  </div>\n</div>\n'),a.put("views/modals/remove-coverage.html",'<div>\n  <div class="modal-header">\n    <h4 class="modal-title" translate>\n      Confirm coverage deletion\n    </h4>\n  </div>\n  <!-- more explanation could go here --\n  <div class="modal-body" translate>\n  </div> -->\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default"\n            ng-click="$close()"\n            translate>\n      Delete\n    </button>\n    <button type="button" class="btn btn-primary"\n            ng-click="$dismiss()"\n            translate>\n      Do not delete\n    </button>\n  </div>\n</div>\n'),a.put("views/monitor.html",'<div queue-selection></div>\n<p ng-if="monitor">\n  {{monitor.user_id.username}} is monitoring {{monitor.filter.spec.track|arrayToText}}\n</p>\n<div\n   ng-repeat="report in reports"\n   tweet-summary\n   >\n</div>\n'),a.put("views/my-monitor.html",'<div queue-selection></div>\n<div ng-show="monitor">\n  <form ng-hide="editing" class="form-inline">\n    <div class="form-group">\n      <button class="btn btn-default"\n              type="button"\n              ng-click="edit()"\n              ng-disabled="disabled"\n              >\n        <span class="glyphicon glyphicon-pencil"></span>\n      </button>\n      <span class="fa fa-refresh fa-spin" ng-show="updating"></span>\n    </div>\n  </form>\n  <form ng-show="editing" class="form-inline">\n    <div class="form-group">\n      <input class="form-control"\n             ng-model="search" required\n             ng-list>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-default"\n              type="button"\n              ng-click="cancelEdit()"\n              ng-disabled="disabled"\n              >\n        <span class="glyphicon glyphicon-remove"></span>\n      </button>\n      <button class="btn btn-default"\n              type="button"\n              ng-click="save()"\n              ng-disabled="disabled"\n              >\n        <span class="glyphicon glyphicon-floppy-disk"></span>\n      </button>\n    </div>\n  </form>\n  <p ng-show="tellToWait">\n    <span translate>\n      Your monitored terms have been saved. Check back to this page to\n      see updates as they come in\n    </span>\n  </p>\n  <p ng-show="newReports.length" class="text-center">\n    <button type="button" class="btn btn-default" ng-click="showNew()">\n      <span translate>{{newReports.length}} new reports</span>\n    </button>\n  </p>\n  <div\n     ng-repeat="report in reports"\n     tweet-summary\n     >\n  </div>\n</div>\n<div ng-show="showCreate">\n  <h4 translate>Start your monitor</h4>\n  <form>\n    <div class="form-group">\n      <label for="createSearch" translate>\n        Search terms\n      </label>\n      <input class="form-control" id="createSearch"\n             ng-model="search" ng-list required\n             placeholder="place @user #hashtag">\n    </div>\n    <button type="submit" class="btn btn-primary" ng-click="create()"\n            ng-disabled="disabled"\n            >\n      <span translate>\n        Start monitoring\n      </span>\n    </button>\n  </form>\n</div>\n<div ng-show="showKeyPointer">\n  <h4 translate>Your Twitter key is missing</h4>\n  <p>\n    <span translate>\n      In order to use a personal monitor, Twitter requires an\n      application key. You can find more information and add your key in\n      the\n    </span>\n    <a href="#/configure-twitter-ingestion-oauths" translate>\n      key configuration page\n    </a>\n  </p>\n</div>\n'),a.put("views/new-report.html",'<form\n   class="form-horizontal"\n   ng-submit="submit()"\n   >\n  <div class="form-group">\n    <label class="col-md-2 control-label">Report content</label>\n    <div class="col-md-10">\n      <textarea class="form-control" required ng-model="content"></textarea>\n    </div>\n  </div>\n  <div class="form-group">\n    <div class="col-md-offset-2 col-md-10">\n      <button class="btn btn-default" type="submit">Submit</button>\n    </div>\n  </div>\n</form>\n'),a.put("views/new-twitter-search.html",'<h2 translate>New Twitter search</h2>\n<form class="form-horizontal">\n  <fieldset>\n    <div class="form-group">\n      <label class="col-md-2" translate>\n        Please specify some search terms\n      </label>\n      <div class="col-md-10">\n        <input type="text" class="col-md-10 form-control" ng-model="terms">\n      </div>\n    </div>\n    <div class="col-md-10 col-md-offset-2">\n      <button class="btn btn-primary" ng-click="submit()">\n        Submit\n      </button>\n    </div>\n  </fieldset>\n</form>\n<div ng-show="loading">\n  <p>\n    <h5 class="text-center" translate>Loading...</h5>\n    <div class="text-center">\n      <span class="fa fa-refresh fa-spin"></span>\n    </div>\n  </p>\n</div>\n'),a.put("views/processed-queues.html",'<h4 class="text-center" translate>Processed reports</h4>\n<div class="row">\n  <div class="col-md-offset-2 col-md-8">\n    <ul class="list-group text-center">\n      <!-- !totals[group.key] collapses when the totals are 0 or when\n      the totals are not fetched yet. this avoids showing danger\n      elements when we are still fetching the data -->\n      <div\n         ng-repeat="group in groups"\n         collapse="collapseEmpty && (!totals[group.key])"\n         >\n         <a class="list-group-item"\n            ng-class="group.class"\n            ng-href="#/generic-report-list/{{group.key}}">\n           <span ng-bind="group.description"></span>\n           <span class="badge" ng-bind="totals[group.key]"></span>\n         </a>\n      </div>\n    </ul>\n  </div>\n  <div class="col-md-offset-2 col-md-8">\n    <p>\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="collapseEmpty">\n          <span translate>\n            Collapse empty groups\n          </span>\n        </label>\n      </div>\n    </p>\n  </div>\n</div>\n'),a.put("views/queues.html",'<h3 translate>\n  Incoming Reports\n</h3>\n<p>&nbsp;</p>\n<ul class="list-group">\n  <a class="list-group-item list-group-item-info"\n     ng-href="#/mobile-queue">\n    <span translate>Mobile reports</span>\n  </a>\n</ul>\n<h4 translate>\n  Tweets\n  <a href="#/help-tweet-queues" class="pull-right">\n    <span class="glyphicon glyphicon-question-sign"></span>\n  </a>\n</h4>\n<ul class="list-group">\n  <a ng-repeat="queue in monitors"\n     class="list-group-item list-group-item-success"\n     ng-href="#/monitor/{{queue._id}}"\n     ng-show="queue.user_id._id != session.identity._id">\n    <span translate>\n      {{queue.user_id.username}}\'s monitor\n    </span>\n    <span class="badge" ng-bind="queue.reports.length"></span>\n  </a>\n  <a class="list-group-item list-group-item-success" ng-href="#/my-monitor">\n    <span translate>\n      Your monitor\n    </span>\n    <span class="badge" ng-bind="myMonitor.reports.length"></span>\n  </a>\n  <a class="list-group-item list-group-item-warning"\n     ng-href="#/new-twitter-search">\n    <span translate>New Twitter search</span>\n  </a>\n  <a class="list-group-item list-group-item-warning"\n     ng-show="searches.length"\n     ng-click="collapseSearches = !collapseSearches">\n    <span ng-switch="collapseSearches">\n      <span ng-switch-when="true">\n        <span translate>Show twitter searches</span>\n      </span>\n      <span ng-switch-default>\n        <span translate>Hide twitter searches</span>\n      </span>\n    </span>\n  </a>\n  <div collapse="collapseSearches">\n    <a ng-repeat="queue in searches" class="list-group-item"\n       ng-href="#/twitter-search/{{queue._id}}"\n       >\n      <span ng-bind="queue.description"></span>\n      <span class="badge" ng-bind="queue.reports.length"></span>\n    </a>\n  </div>\n  <!--li class="list-group-item">\n      <a ng-href="#/web-queue">\n        <span>From the web</span>\n      </a>\n  </li-->\n</ul>\n<ul class="list-group">\n  <a class="list-group-item" ng-href="#/processed-queues">\n    <span translate>Processed reports</span>\n  </a>\n</ul>\n'),a.put("views/report-sms.html",'<div class="panel panel-info"\n     ng-repeat="medium in report.original.entities.media">\n  <div class="panel-heading" translate>\n    Media\n  </div>\n  <div class="panel-body">\n    <img class="img-responsive" ng-src="{{medium.media_url}}">\n  </div>\n</div>\n<div class="panel panel-info">\n  <div class="panel-heading" translate>\n    Text\n  </div>\n  <div class="panel-body break-long-words">\n    <div ng-show="hasTranscript || transcriptCandidate">\n      <div ng-show="editingTranscript" class="form-group">\n        <textarea ng-model="transcriptCandidate" class="form-control"\n                  rows="5"\n                  ></textarea>\n        <button type="button" class="btn btn-default btn-sm" translate\n                ng-click="saveTranscript()"\n                ng-disabled="disableTranscript"\n                >\n          Save\n        </button>\n        <button type="button" class="btn btn-default btn-sm" translate\n                ng-click="cancelTranscriptEditing()"\n                ng-disabled="disableTranscript"\n                >\n          Cancel\n        </button>\n      </div>\n      <div ng-hide="editingTranscript">\n        <p\n           class="lead"\n           id="text"\n           ng-bind="report.texts[0].transcript"\n           ></p>\n        <button type="button" class="btn btn-default btn-sm" translate\n                ng-click="startTranscript()"\n                >\n          Edit\n        </button>\n        <button type="button" class="btn btn-default btn-sm" translate\n                ng-click="discardTranscript()"\n                >\n          Discard\n        </button>\n      </div>\n      <hr>\n    </div>\n    <h5 ng-show="hasTranscript || transcriptCandidate" translate>\n      Original text:\n    </h5>\n    <p\n       id="text"\n       ng-bind="report.texts[0].original"\n       ng-class="{lead: !hasTranscript}"\n       ></p>\n    <button type="button" class="btn btn-default btn-sm" translate\n            ng-click="startTranscript()"\n            ng-hide="hasTranscript || transcriptCandidate"\n            >\n      Edit\n    </button>\n  </div>\n</div>\n<p ng-show="report.feed_type==\'sms\'">\n  <!--a class="btn btn-primary"\n      ng-href="#/session/{{encodedSession}}/{{report._id}}"\n      translate\n      >\n      Reply\n      </a-->\n  <a class="btn btn-default"\n     ng-href="#/session/{{encodedSession}}"\n     translate\n     >\n    Session\n  </a>\n</p>\n<div>\n  <div class="row">\n    <div class="col-sm-6">\n      <dl>\n        <dt translate>Author</dt>\n        <dd>\n          <a ng-bind="report.authors[0].identifiers.user_name"\n             ng-href="#/citizen-card/{{report.authors[0].authority}}/{{report.authors[0].identifiers.user_name}}"\n             ></a>\n        </dd>\n      </dl>\n      <dl>\n        <dt translate>Created</dt>\n        <dd ng-bind="report.produced | date:\'medium\'"></dd>\n      </dl>\n      <dl ng-repeat="url in report.original.entities.urls">\n        <dt translate>External link</dt>\n        <dd>\n          <a target="_blank" ng-href="{{url.url}}"\n             ng-bind="url.display_url">\n          </a>\n        </dd>\n      </dl>\n    </div>\n  </div>\n</div>\n<div common-report-detail-part></div>\n<div ng-if="report.summary">\n  <h4 translate>Session summary</h4>\n  <p translate>\n    This report was generated as the summary of a session, so you\n    can perform specific actions like deleting this summary\n  </p>\n  <p>\n    <a ng-href="#/session/{{report.session}}">\n      <span translate>Go to the corresponding session</span>\n    </a>\n  </p>\n  <p ng-show="isPublished">\n    <span translate>\n      The summary cannot be deleted as long as it is published\n    </span>\n  </p>\n  <p ng-hide="isPublished">\n    <button class="btn btn-danger" ng-click="deleteSummary()"\n            ng-disabled="deleteSummaryDisabled">\n      <span translate>Delete this summary</span>\n    </button>\n  </p>\n</div>\n<p>&nbsp;</p>\n<div class="clearfix"></div>\n'),a.put("views/report-tweet.html",'<div class="panel panel-info"\n     ng-repeat="medium in report.original.entities.media">\n  <div class="panel-heading" translate>\n    Media\n  </div>\n  <div class="panel-body">\n    <img class="img-responsive" ng-src="{{medium.media_url}}">\n  </div>\n</div>\n<div class="panel panel-info">\n  <div class="panel-heading" translate>\n    Tweet\n  </div>\n  <div class="panel-body break-long-words">\n    <!-- upper part of the tweet -->\n    <p>\n      <div class="row">\n        <!-- avatar -->\n        <div class="col-md-2 col-xs-3">\n          <a target="_blank"\n             ng-href="//twitter.com/{{report.original.user.screen_name}}">\n            <img class="media-object"\n                 ng-src="{{report.original.user.profile_image_url_https}}">\n          </a>\n        </div>\n        <div class="col-md-8 col-xs-7">\n          <p>\n            <!-- full name -->\n            <div>\n              <a target="_blank"\n                 ng-href="//twitter.com/{{report.original.user.screen_name}}">\n                <strong ng-bind="report.original.user.name"></strong>\n              </a>\n            </div>\n            <!-- Twitter user name -->\n            <div>\n              <a target="_blank"\n                 ng-href="//twitter.com/{{report.original.user.screen_name}}">\n                <span ng-bind="\'@\'+report.original.user.screen_name"\n                      class="text-muted">\n                </span>\n              </a>\n            </div>\n          </p>\n        </div>\n        <!-- logo button -->\n        <div class="col-md-2 col-xs-2">\n          <a href="https://twitter.com" target="_blank" class="pull-right">\n            <img src="https://dev.twitter.com/sites/default/files/images_documentation/bird_blue_16.png"\n                 width="14" height="11">\n          </a>\n        </div>\n      </div>\n    </p>\n    <!-- middle part of the tweet -->\n    <p id="text"\n       ng-bind-html="linkedText"\n       ng-class="lead"\n       >\n    </p>\n    <!-- lower part of the tweet -->\n    <p>\n      <div class="pull-right">\n        <a ng-href="https://twitter.com/intent/favorite?tweet_id={{report.original.id_str}}"\n           target="_blank">\n          <img\n             src="//si0.twimg.com/images/dev/cms/intents/icons/favorite.png">\n        </a>\n        <a ng-href="https://twitter.com/intent/tweet?in_reply_to={{report.original.id_str}}"\n           target="_blank">\n          <img\n             src="//si0.twimg.com/images/dev/cms/intents/icons/reply.png">\n        </a>\n        <a ng-href="https://twitter.com/intent/retweet?tweet_id={{report.original.id_str}}"\n           target="_blank">\n          <img\n             src="//si0.twimg.com/images/dev/cms/intents/icons/retweet.png">\n        </a>\n      </div>\n      <span ng-bind="report.created | date:\'medium\'" class="text-muted">\n      </span>\n    </p>\n  </div>\n</div>\n<p ng-show="report.feed_type==\'sms\'">\n  <!--a class="btn btn-primary"\n      ng-href="#/session/{{encodedSession}}/{{report._id}}"\n      translate\n      >\n      Reply\n      </a-->\n  <a class="btn btn-default"\n     ng-href="#/session/{{encodedSession}}"\n     translate\n     >\n    Session\n  </a>\n</p>\n<div>\n  <div class="row">\n    <div class="col-sm-6">\n      <dl>\n        <dt translate>Citizen card</dt>\n        <dd>\n          <a ng-bind="report.authors[0].identifiers.user_name"\n             ng-href="#/citizen-card/{{report.authors[0].authority}}/{{report.authors[0].identifiers.user_name}}"\n             ></a>\n        </dd>\n      </dl>\n    </div>\n  </div>\n</div>\n<div common-report-detail-part></div>\n'),a.put("views/session.html",'<div ng-repeat="report in reports">\n  <div class="row">\n    <div ng-show="report.authors[0].identifiers.user_id == identity.user"\n         class="col-md-9 col-md-offset-3">\n      <div class="panel panel-info">\n        <div class="panel-heading">\n          <small class="pull-right" ng-bind="report.produced | date:\'medium\'">\n          </small>\n          <!-- since fetching details about the actual sender happens\n              asynchronously, the markup must support the lack of\n              details -->\n          <span ng-if="report.local">\n            <span ng-if="users[report.user_id]">\n              <span ng-bind="users[report.user_id].username">\n              </span>\n            </span>\n            <span ng-if="!users[report.user_id]">\n              <span translate>\n                Sent by Citizen Desk\n              </span>\n            </span>\n          </span>\n          <span ng-if="!report.local">\n            <span ng-repeat="author in report.authors"\n                  ng-bind="author.identifiers.user_name">\n            </span>\n          </span>\n        </div>\n        <div class="panel-body" ng-bind="report.texts[0].original">\n        </div>\n      </div>\n    </div>\n    <div ng-hide="report.authors[0].identifiers.user_id == identity.user"\n         class="col-md-9">\n      <div class="panel panel-primary">\n        <div class="panel-heading">\n          <small class="pull-right" ng-bind="report.produced | date:\'medium\'">\n          </small>\n          <span ng-bind="report.authors[0].identifiers.user_name">\n          </span>\n        </div>\n        <div class="panel-body" ng-bind="report.texts[0].original">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<tabset>\n  <tab>\n    <tab-heading>\n      <span translate>Reply</span>\n    </tab-heading>\n    <p>\n      <form>\n        <div class="form-group">\n          <label translate>\n            Reply to {{replyReport.authors[0].identifiers.user_name}}\n          </label>\n          <textarea class="form-control" rows="3" ng-model="reply">\n          </textarea>\n        </div>\n        <button class="btn btn-primary" translate\n                ng-click="sendReply({report_id: replyReport._id, message: reply})"\n                type="submit">\n          Send\n        </button>\n        <button class="btn btn-default" translate\n                ng-click="reset()">\n          Reset\n        </button>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model="body.glue">\n            <span translate>Stick to the bottom</span>\n          </label>\n        </div>\n      </form>\n    </p>\n  </tab>\n  <tab>\n    <tab-heading>\n      <span translate>Summary</span>\n    </tab-heading>\n    <p>\n      <form>\n        <div class="form-group">\n          <label>Session summary:</label>\n          <div ng-hide="summaries.length">\n            <textarea class="form-control" ng-model="$parent.summaryContent"\n                      required\n                      rows="3">\n            </textarea>\n          </div>\n          <div ng-show="summaries.length">\n            <textarea class="form-control"\n                      ng-model="summaries[0].texts[0].original"\n                      rows="3" disabled>\n            </textarea>\n          </div>\n        </div>\n        <button class="btn btn-primary" ng-click="submitSummary()"\n                ng-if="!summaries.length">\n          <span translate>\n            Create a session summary\n          </span>\n        </button>\n        <button class="btn btn-primary" ng-click="goToSummary()"\n                ng-if="summaries.length">\n          <span translate>\n            See summary details\n          </span>\n        </button>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model="body.glue">\n            <span translate>Stick to the bottom</span>\n          </label>\n        </div>\n      </form>\n    </p>\n  </tab>\n</tabset>\n'),a.put("views/simple-report-list.html",'<h3 ng-bind="description"></h3>\n<p>\n  <div class="input-group">\n    <div class="input-group-addon">\n      <span class="glyphicon glyphicon-search"></span>\n    </div>\n    <input class="form-control" type="search" ng-model="q" />\n  </div>\n</p>\n<div\n   ng-repeat="report in reports | filter:q"\n   ng-switch on="report.feed_type"\n   >\n  <div ng-switch-when="tweet" tweet-summary></div>\n  <div ng-switch-default      report-summary></div>\n</div>\n<div ng-show="loading">\n  <p>\n    <h5 class="text-center" translate>Loading...</h5>\n    <div class="text-center">\n      <span class="fa fa-refresh fa-spin"></span>\n    </div>\n  </p>\n</div>\n<div ng-hide="loading || reports.length" translate>\n  No reports in this queue\n</div>\n'),a.put("views/twitter-search.html",'<div queue-selection></div>\n<div>\n  <p ng-switch="status" class="clearfix">\n    <a href="https://twitter.com" target="_blank">\n      <img src="https://g.twimg.com/dev/sites/default/files/images_documentation/bird_blue_16.png"\n           width="14" height="11">\n    </a>\n    <span class="pull-right">\n      <button class="btn btn-warning btn-xs pull-right"\n              ng-switch-when="deleted"\n              disabled\n              >\n        <span translate>Deleted</span>\n      </button>\n      <span\n         ng-switch-when="error"\n         >\n        <span translate>Error deleting</span>\n        <button class="btn btn-warning btn-xs"\n                ng-click="delete()"\n                >\n          <span translate>Try again</span>\n        </button>\n      </span>\n      <button class="btn btn-warning btn-xs"\n              ng-switch-when="deleting"\n              disabled\n              >\n        <span class="fa fa-refresh fa-spin"></span>\n        <span translate>Deleting</span>\n      </button>\n      <button class="btn btn-warning btn-xs"\n              ng-switch-default\n              ng-click="delete()"\n              >\n        <span translate>Delete search</span>\n      </button>\n    </span>\n  </p>\n</div>\n<p>\n  <div class="input-group">\n    <div class="input-group-addon">\n      <span class="glyphicon glyphicon-search"></span>\n    </div>\n    <input class="form-control" type="search" ng-model="q" />\n  </div>\n</p>\n<div\n   ng-repeat="report in queue.reports | filter:q | limitTo:limit"\n   tweet-summary\n   >\n</div>\n<p ng-show="queue.reports.length > limit">\n  <button class="btn btn-default btn-lg btn-block"\n          ng-click="limit = limit + 50"\n          >\n    <span translate>\n      See more reports\n    </span>\n  </button>\n</p>\n<div ng-show="loading">\n  <p>\n    <h5 class="text-center" translate>Loading...</h5>\n    <div class="text-center">\n      <span class="fa fa-refresh fa-spin"></span>\n    </div>\n  </p>\n</div>\n<p ng-hide="loading || queue.reports.length" translate>\n  No reports match your search criteria\n</p>\n'),a.put("views/verified-reports.html",'<ol class="breadcrumb">\n  <li class="active" translate>Verified reports</li>\n</ol>\n<div\n   ng-repeat="report in reports"\n   report-summary\n   >\n</div>\n<p ng-hide="reports.length" translate>\n  There are no verified reports yet\n</p>\n'),a.put("views/web-queue.html",'<div queue-selection></div>\n<div\n   ng-repeat="report in reports"\n   report-summary\n   >\n</div>\n')
}]),angular.module("citizendeskFrontendApp").controller("AssignedToMeCtrl",["$scope","api","session","Report","lodash","AliasesInLists",function(a,b,c,d,e,f){function g(e){a.loading=!0,b.reports.query({where:JSON.stringify({$and:[{"assignments.user_id":c.identity._id},{$or:[{status:""},{status:{$exists:!1}},{"coverages.published":{$size:0}}]}]}),page:e,sort:'[("produced", -1)]'}).then(function(b){var c=b._items;d.linkTweetTextsInList(c),c.map(f.embedAuthorAlias),a.reports=a.reports.concat(c),b._links.next?g(e+1):a.loading=!1})}a.reports=[],a.disabled={},g(1),a.dismiss=d.getDismiss(a.disabled,function(b){e.remove(a.reports,function(a){return a._id===b._id})})}]),angular.module("citizendeskFrontendApp").controller("AssignedCtrl",["$scope","Assign",function(a,b){a.users=b.users,a.totals=b.totals,b.updateTotals()}]),angular.module("citizendeskFrontendApp").service("Coverages",["api","$q",function(a,b){var c=b.defer();this.promise=c.promise,a.coverages.query().then(function(a){c.resolve(a._items)})}]),angular.module("citizendeskFrontendApp").service("Report",["api","session","$q","config","$http","lodash","gettextCatalog","$window","linkTweetEntities","Raven","reportStatuses","superdeskDate",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=f;this.publish=function(f,g){var h=angular.copy(f),i=c.defer();return a.reports.save(h,{on_behalf_id:b.identity._id}).then(function(){e.post(d.server.url+"proxy/publish",{report:f._id,coverage:g._id}).then(function(){i.resolve()})}),i.promise},this.unpublish=function(a,b){return e.post(d.server.url+"proxy/unpublish",{report:a._id,coverage:b._id})},this.checkPublished=function(a){return a.coverages&&a.coverages.published?a.coverages.published.length>0:!1},this.getSelectedCoverage=function(a,b){return b&&a.coverages&&a.coverages.published?m.find(b,{_id:a.coverages.published[0]}):void 0},this.getVerificationHandler=function(a){return function(b,c){if(b!==c){if(a.report.steps){var d=g.getString("This report is being marked as verified without going through the planned verification steps"),e=a.report.steps.every(function(a){return a.done});"verified"===b&&e===!1&&h.alert(d)}if("verified"===c){var f=g.getString("This report was marked as verified, and now it is marked as unverified again! This is a very bad practice, and should be avoided");h.alert(f)}}}},this.getStepsHandler=function(a){return function(){return a.report&&a.report.steps?void(a.verificationDisabled=a.report.steps.some(function(a){return a.mandatory&&!a.done})):!1}},this.linkTweetTexts=function(a){if("tweet"===a.feed_type)try{a.linkedText=i(a)}catch(b){j.raven.captureException(b)}},this.linkTweetTextsInList=function(a){a.forEach(this.linkTweetTexts)},this.getDismiss=function(b,c){return function(d){return b[d._id]=!0,a.reports.update(d,{assignments:[],status:k("dismissed"),status_updated:l.render(new Date)}).then(function(a){b[d._id]=!1,c(a)})}},this.create=function(a){return{texts:[],summary:!1,session:a.session,channels:[{type:"frontend"}],produced:l.render(new Date),user_id:b._id,authors:[{authority:"citizen_desk",identifiers:b._id}],assignments:[],feed_type:"plain",automatic:!1,local:!0,proto:!1}},this.addSteps=function(b){"steps"in b||a.steps.query().then(function(a){var c=a._items;0===c.length?j.raven.captureMessage("no validation steps for report detail"):b.steps=c.map(function(a){return a.done=!1,a})})}}]),angular.module("citizendeskFrontendApp").factory("detailsFetcher",function(){return function(a,b,c){c[a]!==!1&&(c[a]=!1,b.getById(a).then(function(b){c[a]=b}))}}),angular.module("citizendeskFrontendApp").service("Body",["$rootScope",function(a){var b=this;this.glue=!1,a.$on("$routeChangeStart",function(){b.glue=!1}),this.connectionError=null}]),angular.module("citizendeskFrontendApp").controller("BodyCtrl",["$scope","Body","screenSize","$window",function(a,b,c,d){a.service=b,a.navCollapsed=!0,a.clickNavigation=function(){c.is("xs")&&(a.navCollapsed=!0)},a.reload=function(){d.location.reload()}}]),angular.module("citizendeskFrontendApp").controller("MyMonitorCtrl",["$scope","api","$http","Monitors","session","Raven","config","addNewValues","dateFetcherFactory","PagePolling","QueueSelection","$filter","linkTweetEntities","PageBroker","AliasesInLists","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){try{a.linkedText=m(a)}catch(b){f.raven.captureException(b)}o.embedAuthorAlias(a)}function r(c){return b.reports.query({page:c,sort:'[("produced", -1)]',where:JSON.stringify({"channels.value":a.monitor._id})})}function s(){a.page=1,r(a.page).then(function(c){a.reports=c._items,a.reports.forEach(q);var d=i({endpoint:b.reports,property:"produced",initialise:a.reports});j.setInterval(function(){a.updating=!0,d.queryWhere({"channels.value":a.monitor._id}).then(function(b){a.updating=!1,b._items.forEach(q),h(a.newReports,b._items)})},1e4)})}function t(){p.cancel(u),a.tellToWait=!0,u=p(function(){a.tellToWait=!1},1e4)}a.missing={monitor:!1,key:!1},a.disabled=!1,a.editing=!1,a.newReports=[],a.search=[],a.$watch("missing",function(){var b=a.missing;a.showKeyPointer=b.monitor&&b.key,a.showCreate=b.monitor&&!b.key,b.key&&!b.monitor&&f.raven.captureMessage("This user has no keys but she has a running monitor!",{extra:{name:e.identity.username}})},!0),a.$watch("monitor",function(){if(a.monitor){var b=a.monitor.filter.spec.track;a.search=b,k.description=b.join(", ")}},!0);var u,v={start:function(a){return c.get(g.server.url+"/proxy/start-stream/"+a._id)},stop:function(a){return c.get(g.server.url+"/proxy/stop-stream/"+a._id)}};a.moreReports=function(){a.page+=1,r(a.page).then(function(b){h(a.reports,b._items)})},a.showNew=function(){h(a.reports,a.newReports),a.reports=l("sortByDate")(a.reports,"produced",!0),a.newReports=[]},d.getByUserId(e.identity._id).then(function(b){b?(a.monitor=b,s()):a.missing.monitor=!0}),b.twt_oauths.query({where:JSON.stringify({user_id:e.identity._id})}).then(function(b){var c=b._items.pop();c?a.key=c:a.missing.key=!0}),a.create=function(){var c,f={spec:{track:a.search}};a.disabled=!0,b.twt_filters.save(f).then(function(d){c=d,a.filter=c;var f={user_id:e.identity._id,spec:{filter_id:c._id,oauth_id:a.key._id}};return b.twt_streams.save(f)}).then(function(b){return a.monitor=b,a.monitor.filter=c,delete a.missing.monitor,a.disabled=!1,d.update(),v.start(b)}).then(function(){t(),s()})},a.edit=function(){a.editing=!0},a.cancelEdit=function(){a.editing=!1},a.save=function(){var c=angular.copy(a.monitor.filter);c.spec.track=a.search,b.twt_filters.save(c).then(function(b){return a.monitor.filter=b,v.stop(a.monitor)}).then(function(){return v.start(a.monitor)}).then(function(){a.editing=!1,t(),s()})},a.assign=function(a){n.load("/assign/",{report:a})}}]),angular.module("citizendeskFrontendApp").factory("dateFetcherFactory",["superdeskDate","lodash",function(a,b){var c=b;return function(b){var d={date:null,update:function(d){var e=[];if(d.forEach(function(c){var d=c[b.property];if(d){var f=a.parse(d);e.push(f)}}),e.length){var f=c.max(e);this.date=a.render(f)}},queryWhere:function(a){var c=this,d={};c.date&&(d={},d[b.property]={$gt:c.date});var e={where:JSON.stringify({$and:[a,d]})};return b.endpoint.query(e).then(function(a){return c.update(a._items),a})}};return d.update(b.initialise),d}}]),angular.module("citizendeskFrontendApp").factory("superdeskDate",["$filter",function(a){function b(a){var b=String(a);return 1===b.length?"0"+b:b}return{render:function(c){if(c instanceof Date){var d=a("date")(c,"yyyy-MM-dd"),e=b(c.getUTCHours()),f=b(c.getUTCMinutes()),g=b(c.getUTCSeconds());return d+"T"+e+":"+f+":"+g+"+0000"}var h=JSON.stringify(c);throw Error("superdeskDate parsing "+h)},parse:function(a){function b(a){return parseInt(a,10)}var c=a.split("T"),d=c[0],e=c[1],f=d.split("-"),g=e.split("+"),h=g[0],i=h.split(":");if("0000"!==g[1])throw new Error("Date "+a+" is probably not in UTC time, or not in the expected format");f=f.map(b),i=i.map(b);var j=f[0],k=f[1]-1,l=f[2],m=i[0],n=i[1],o=i[2];return new Date(Date.UTC(j,k,l,m,n,o))}}}]),angular.module("citizendeskFrontendApp").factory("linkTweetEntities",function(){function a(a,b,c,d){var e=a.slice(0,c),f=a.slice(d);return e+b+f}function b(b,c){return c.sort(function(a,b){return b.indices[0]-a.indices[0]}),c.forEach(function(c){b=a(b,c.text,c.indices[0],c.indices[1])}),b}function c(a){return'<a href="'+a.reference+'" target="_blank">'+a.text+"</a>"}function d(a,b){switch(a){case"user_mentions":return{text:"@"+b.screen_name,reference:"https://twitter.com/"+b.screen_name};case"hashtags":return{text:"#"+b.text,reference:"https://twitter.com/search?q=%23"+b.text};case"urls":return{text:b.display_url,reference:b.url}}}function e(a){var e=["user_mentions","hashtags","urls"],f=[];return e.forEach(function(b){a.original.entities[b].forEach(function(a){var e={text:c(d(b,a)),indices:a.indices};f.push(e)})}),b(a.original.text,f)}return e.patch=a,e.patchAll=b,e.anchorify=c,e.reference=d,e}),angular.module("citizendeskFrontendApp").directive("tweetSummary",function(){return{templateUrl:"views/directives/tweet-summary.html"}}),angular.module("citizendeskFrontendApp").controller("ConfigureCoveragesCtrl",["$scope","api","lodash","$modal",function(a,b,c,d){function e(b){return a.disabled=!0,b.then(function(){a.disabled=!1})}b.coverages.query().then(function(b){a.coverages=b._items}),a.save=function(c){e(b.coverages.save(c).then(function(){a.disabled=!1}))},a.remove=function(f){var g=d.open({templateUrl:"views/modals/remove-coverage.html"});g.result.then(function(){e(b.coverages.remove(f).then(function(){c.remove(a.coverages,function(a){return a._id===f._id})}))})},a.add=function(){a.coverages.push({})}}]),angular.module("citizendeskFrontendApp").factory("Bacon",function(){return Bacon}),angular.module("citizendeskFrontendApp").service("CitizenLists",["api",function(a){this.update=function(){return a.citizen_lists.query()},this.promise=this.update()}]),angular.module("citizendeskFrontendApp").service("AliasesInLists",["api",function(a){var b=this,c={where:JSON.stringify({tags:{$elemMatch:{$exists:!0}}}),embedded:'{"tags":1}'};this.update=function(){b.indexPromise=a.citizen_aliases.query(c).then(function(a){var c=b.createIndex(a);return c})},this.createIndex=function(a){var b={};return a._items.forEach(function(a){var c=a.authority,d=a.identifiers.user_name,e=b[c]||{};e[d]=a,b[c]=e}),b},this.embedAuthorAlias=function(a){if(a&&a.authors&&a.authors[0]){var c=a.authors[0],d=c.authority,e=c.identifiers.user_name;b.indexPromise.then(function(a){a[d]&&a[d][e]&&(c.alias=a[d][e])})}},this.update()}]),angular.module("citizendeskFrontendApp").controller("ConfigureListsSpecificCtrl",["$scope","$window","PageBroker","api","gettextCatalog",function(a,b,c,d,e){function f(b){return d.citizen_aliases.query({where:JSON.stringify({tags:b._id})}).then(function(b){var c=b._items;return a.deletable=0===c.length,c})}function g(){var c="This citizen list is not empty and thus it cannot be deleted",d=e.getString(c);b.alert(d),a.back()}c.getData("/configure-lists/").then(function(b){"new"===b?(a.newList=!0,a.list={variation:"label-default"}):(a.list=b,f(b).then(function(b){a.aliases=b}))}),a.back=function(){b.history.back()},a.save=function(){a.disabled=!0,d.citizen_lists.save(a.list).then(function(){a.disabled=!1,a.back()})},a.delete=function(){a.disabled=!0,f(a.list).then(function(){a.deletable?d.citizen_lists.remove(a.list).then(function(){a.back()}):g()})},a.variations=["default","primary","success","info","warning","danger"].map(function(a){return{name:a,"class":"label-"+a}})}]),angular.module("citizendeskFrontendApp").controller("ConfigureListsCtrl",["$scope","api","PageBroker",function(a,b,c){b.citizen_lists.query().then(function(b){a.lists=b._items}),a.edit=function(a){c.load("/configure-lists-specific",a)},a.create=function(){c.load("/configure-lists-specific","new")}}]),angular.module("citizendeskFrontendApp").controller("EditUserListsCtrl",["$scope","api","PageBroker","$window","AliasesInLists",function(a,b,c,d,e){c.getData("/").then(function(b){a.alias=b;var c=b.tags[0];c&&(a.currentList=c._id)}),b.citizen_lists.query().then(function(b){b._items.length?a.lists=b._items:a.noLists=!0}),a.save=function(){a.disabled=!0,a.alias.tags=a.currentList?[a.currentList]:[],b.citizen_aliases.save(a.alias).then(function(){d.history.back(),e.update()})}}]),angular.module("citizendeskFrontendApp").factory("reportStatuses",["Set",function(a){return a(["debunked","verified","dismissed",""])}]),angular.module("citizendeskFrontendApp").factory("Set",["lodash",function(a){return function(b){return function(c){if(a.contains(b,c))return c;var d=JSON.stringify,e=d(c)+" is not in "+d(b);throw Error(e)}}}]),angular.module("citizendeskFrontendApp").directive("commonReportDetailPart",function(){return{templateUrl:"views/directives/common-report-detail-part.html"}}),angular.module("citizendeskFrontendApp").service("SimpleReportList",["api","Report","PageBroker",function(a,b,c){this.init=function(d,e,f){function g(c){d.loading=!0,h.page=c,a.reports.query(h).then(function(a){b.linkTweetTextsInList(a._items),d.reports=d.reports.concat(a._items),a._links.next?g(c+1):d.loading=!1})}var h={};f&&f.parameters&&(h=f.parameters),d.assign=function(a){c.load("/assign/",{report:a})},d.reports=[],h.where=JSON.stringify(e),h.sort='[("produced", -1)]',h.embedded='{"assignments.user_id": true}',g(1)}}]),angular.module("citizendeskFrontendApp").directive("reportSummaryButtons",function(){return{templateUrl:"views/directives/report-summary-buttons.html"}}),angular.module("citizendeskFrontendApp").controller("ConfigureStatusPresentationCtrl",["$scope","api","lodash",function(a,b,c){b.report_statuses.query().then(function(b){a.statuses=b._items,c.remove(a.statuses,function(a){return!a.key})}),a.save=function(c){a.disabled=!0,b.report_statuses.save(c).then(function(){a.disabled=!1})}}]),angular.module("citizendeskFrontendApp").filter("arrayToText",function(){return function(a){return a.join(", ")}}),angular.module("citizendeskFrontendApp").service("SavedQueries",["reportStatuses",function(a){function b(){return{"coverages.published":{$elemMatch:{$exists:!0}}}}function c(){return{$or:[{"coverages.published":{$size:0}},{"coverages.published":{$exists:!1}}]}}var d={where:{}};d.where.assigned={"assignments.user_id":{$exists:!0}},d.where.not_published_assigned={$and:[{"assignments.user_id":{$exists:!0}},c()]},d.where.published_assigned={$and:[{"assignments.user_id":{$exists:!0}},b()]},d.where.dismissed={status:a("dismissed")},d.where.debunked={status:a("debunked")},d.where.published=b(),d.where.published_debunked={$and:[b(),{status:a("debunked")}]},d.where.not_published_debunked={$and:[c(),{status:a("debunked")}]},d.where.not_published_verified={$and:[c(),{status:a("verified")}]},d.where.published_verified={$and:[b(),{status:a("verified")}]},d.where.published_dismissed={$and:[b(),{status:a("dismissed")}]},d.where.not_published_dismissed={$and:[c(),{status:a("dismissed")}]},this.getWhere=function(a){if(a in d.where)return d.where[a];throw Error('"'+a+'" is not a saved where query')}}]),angular.module("citizendeskFrontendApp").controller("ProcessedQueuesCtrl",["$scope","ProcessedQueues","gettextCatalog",function(a,b,c){a.collapseEmpty=!0,a.groups=[{key:"published_debunked",description:c.getString("Published but debunked!"),"class":"list-group-item-danger"},{key:"published_dismissed",description:c.getString("Published but dismissed!"),"class":"list-group-item-danger"},{key:"not_published_verified",description:c.getString("Verified but not published yet"),"class":"list-group-item-warning"},{key:"published_assigned",description:c.getString("Published and still assigned"),"class":"list-group-item-warning"},{key:"published_verified",description:c.getString("Published and verified")},{key:"not_published_dismissed",description:c.getString("Dismissed, not published")},{key:"not_published_debunked",description:c.getString("Debunked, not published")},{key:"not_published_assigned",description:c.getString("Assigned, not published")}],a.totals={},a.groups.forEach(function(c){b.getResponses(c.key).onValue(function(b){a.totals[c.key]=b._meta.total})}),a.update=function(){a.groups.forEach(function(a){b.requests.push(a.key)})},a.update()}]),angular.module("citizendeskFrontendApp").service("ProcessedQueues",["SavedQueries","Bacon","api",function(a,b,c){function d(a){if(!(a in f.properties)){var c=new b.Bus;f.streams[a]=c,f.properties[a]=c.toProperty()}}var e=this,f={streams:{},properties:{}};this.requests=new b.Bus,this.getStream=function(a){return d(a),f.streams[a]},this.getResponses=function(a){return d(a),f.properties[a]},this.requests.onValue(function(b){c.reports.query({where:a.getWhere(b)}).then(function(a){e.getStream(b).push(a)})})}]),angular.module("citizendeskFrontendApp").controller("GenericReportListCtrl",["$scope","SavedQueries","$routeParams","SimpleReportList","gettextCatalog",function(a,b,c,d,e){a.description=e.getString("Matching reports"),d.init(a,b.getWhere(c.query))}]);